@startuml

skinparam linetype ortho
set namespaceSeparator none
'hide circle

package engine {
    abstract class Actor <<abstract>>
    abstract class WeaponItem <<abstract>>
}

package game {

    package enemies {
        'Enemies
        abstract class Enemy <<abstract>> #lime
        interface IEnemy <<interface>> #lime
        class HeavySkeletalSwordsman #lime
        class LoneWolf
        class GiantCrab #lime
    }

    package traders {
        'Trader
        abstract class Trader <<abstract>> #lime
        interface ITrader <<interface>> #lime
        class MerchantKale #lime
    }

    package items {
        ' Things that can be picked up
        abstract class Consumables <<abstract>> #lime
        abstract class Equippable <<abstract>> #lime

        class Rune
        class Grossmesser
        class Club
        class Uchigatana
        class GreatKnife
    }

    ' Driver Class
    class Application
}

    ' ===== Generalisations (Parent/Child) =====

    ' Trader is generalised by MerchantKale
    MerchantKale -[#orange]-|> Trader

    ' Enemy is generalised by the enemies
    HeavySkeletalSwordsman -[#blue]-|> Enemy
    LoneWolf -[#blue]-|> Enemy
    GiantCrab -[#blue]-|> Enemy

    ' Different weapons who have a parent, WeaponItem
    Club -[#green]-|> WeaponItem
    GreatKnife -[#green]-|> WeaponItem
    Uchigatana -[#green]-|> WeaponItem
    Grossmesser -[#green]-|> WeaponItem

    'Runes are Consumable
    Rune -|> Consumables

    'WeaponItem is Equippable
    WeaponItem -|> Equippable

    ' ===== Realisations (Interfaces) =====
    ' ITrader is realised by Trader
    Trader ..|> ITrader

    ' IEnemy is realised by Enemy
    Enemy ..|> IEnemy

    ' ===== Associations =====
    ' MerchantKale who trades weapons
    MerchantKale "1" -[#red]-> "0..*" GreatKnife : <color:red>transacts
    MerchantKale "1" -[#red]-> "0..*" Uchigatana : <color:red>transacts
    MerchantKale "1" -[#red]-> "0..*" Club : <color:red>transacts
    MerchantKale "1" -[#red]-> "0..*" Grossmesser : <color:red>transacts

    ' Enemies dropping Runes
    HeavySkeletalSwordsman --> "1" Rune : drops
    LoneWolf --> "1" Rune : drops
    GiantCrab --> "1" Rune : drops

    ' ===== Dependencies =====
    ' Application creates MerchantKale
    Application ..> MerchantKale

    ' Application creates Enemies
    Application ..> HeavySkeletalSwordsman
    Application ..> LoneWolf
    Application ..> GiantCrab
}

@enduml
